{
  "name": "shionlib",
  "private": true,
  "version": "1.0.0",
  "author": {
    "name": "Hoshimi Shion",
    "email": "hoshimishion@ringyuki.moe"
  },
  "description": "Free, open-source Visual Novel/Galgame archive",
  "packageManager": "pnpm@10.10.0+sha512.d615db246fe70f25dcfea6d8d73dee782ce23e2245e3c4f6f888249fb568149318637dca73c2c5c8ef2a4ca0d5657fb9567188bfab47f566d1ee6ce987815c39",
  "scripts": {
    "install:all": "pnpm install -r",
    "prepare": "[ -d .git ] && (apps/frontend/node_modules/.bin/husky .husky || apps/backend/node_modules/.bin/husky .husky) || true",
    "dev": "pnpm -r --parallel --stream --filter shionlib-backend --filter shionlib-frontend --filter shionlib-og run dev",
    "dev:frontend": "pnpm --filter shionlib-frontend dev",
    "dev:backend": "pnpm --filter shionlib-backend start:dev",
    "dev:og": "pnpm --filter shionlib-og dev",
    "prisma:validate": "pnpm --filter shionlib-backend prisma:validate",
    "prisma:generate": "DATABASE_URL=${DATABASE_URL:-postgresql://postgres:postgres@localhost:5432/postgres?schema=public} pnpm --filter shionlib-backend prisma:generate",
    "prisma:push": "pnpm --filter shionlib-backend prisma:push",
    "prisma:migrate": "pnpm --filter shionlib-backend prisma:migrate",
    "prisma:migrate-deploy": "pnpm --filter shionlib-backend prisma:migrate-deploy",
    "build": "pnpm build:backend && pnpm build:frontend",
    "build:frontend": "pnpm --filter shionlib-frontend build",
    "build:backend": "pnpm --filter shionlib-backend build",
    "typecheck:og": "pnpm --filter shionlib-og typecheck",
    "format": "pnpm -r --if-present run format",
    "format:check": "pnpm -r --if-present run format:check",
    "format:og": "pnpm --filter shionlib-og format",
    "format:og:check": "pnpm --filter shionlib-og format:check",
    "lint": "pnpm lint:backend && pnpm lint:frontend && pnpm lint:og",
    "lint:fix": "pnpm lint:backend:fix && pnpm lint:frontend:fix && pnpm lint:og:fix",
    "lint:backend:fix": "pnpm --filter shionlib-backend lint",
    "lint:frontend:fix": "pnpm --filter shionlib-frontend lint:fix",
    "lint:frontend": "pnpm --filter shionlib-frontend lint",
    "lint:backend": "pnpm --filter shionlib-backend lint:check",
    "lint:og": "pnpm --filter shionlib-og lint:check",
    "lint:og:fix": "pnpm --filter shionlib-og lint",
    "typecheck": "pnpm typecheck:backend && pnpm typecheck:frontend && pnpm typecheck:og",
    "typecheck:frontend": "pnpm --filter shionlib-frontend typecheck",
    "typecheck:backend": "pnpm prisma:generate && pnpm --filter shionlib-backend typecheck",
    "check": "pnpm format:check && pnpm lint && pnpm typecheck",
    "test": "pnpm test:backend && pnpm test:frontend && pnpm test:og",
    "test:frontend:unit": "pnpm --filter shionlib-frontend test:unit",
    "test:frontend:integration": "pnpm --filter shionlib-frontend test:integration",
    "test:frontend:cov": "pnpm --filter shionlib-frontend test:cov",
    "test:frontend": "pnpm test:frontend:unit && pnpm test:frontend:integration",
    "test:backend:unit": "pnpm --filter shionlib-backend test:unit",
    "test:backend:integration": "pnpm --filter shionlib-backend test:integration",
    "test:backend:e2e": "pnpm --filter shionlib-backend test:api:e2e",
    "test:backend:cov": "pnpm --filter shionlib-backend test:cov",
    "test:backend": "pnpm --filter shionlib-backend test:all",
    "test:og": "pnpm --filter shionlib-og test",
    "e2e:stack:up": "docker compose up -d --build --wait",
    "e2e:stack:down": "docker compose down --remove-orphans",
    "e2e:data:prepare": "docker compose exec -T backend sh -lc \"cd /app/apps/backend && node dist/scripts/e2e-dataset.js prepare\"",
    "test:e2e": "bash docker/scripts/test-e2e.sh",
    "start": "pnpm -r --parallel --stream --filter shionlib-backend --filter shionlib-frontend --filter shionlib-og run start",
    "start:frontend": "pnpm --filter shionlib-frontend start",
    "start:backend": "pnpm --filter shionlib-backend start",
    "start:og": "pnpm --filter shionlib-og start",
    "docker:up": "docker compose up --build",
    "docker:down": "docker compose down",
    "docker:down:volumes": "docker compose down -v",
    "docker:logs": "docker compose logs -f"
  },
  "pnpm": {
    "overrides": {
      "@types/react": "19.2.2",
      "@types/react-dom": "19.2.2"
    },
    "patchedDependencies": {
      "sileo@0.0.7": "apps/frontend/patches/sileo@0.0.7.patch"
    }
  },
  "dependencies": {
    "husky": "^9.1.7"
  }
}
